<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bookly - Рецепты по категориям</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 100%;
        }

        :root {
            --primary-color: #ff6b6b;
            --secondary-color: #4ecdc4;
            --dark-color: #292f36;
            --light-color: #f7fff7;
            --accent-color: #ffe66d;
            --gray-color: #6c757d;
            --danger-color: #e63946;
        }

        body {
            background-color: #f8f9fa;
            color: var(--dark-color);
            line-height: 1.6;
            overflow-x: hidden;
            width: 100%;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
            width: 100%;
        }

        /* Header */
        header {
            background-color: white;
            box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
            width: 100%;
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            flex-wrap: wrap;
            gap: 10px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 24px;
            font-weight: 700;
            color: var(--primary-color);
        }

        .logo i {
            font-size: 28px;
        }

        nav {
            width: 100%;
            order: 3;
            margin-top: 10px;
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
            overflow-x: auto;
            padding-bottom: 5px;
        }

        nav ul::-webkit-scrollbar {
            height: 3px;
        }

        nav ul::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        nav ul::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 10px;
        }

        nav ul li a {
            text-decoration: none;
            color: var(--dark-color);
            font-weight: 600;
            padding: 6px 12px;
            border-radius: 20px;
            transition: all 0.3s ease;
            font-size: 14px;
            white-space: nowrap;
        }

        nav ul li a:hover,
        nav ul li a.active {
            background-color: var(--primary-color);
            color: white;
        }

        .add-recipe-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 16px;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .add-recipe-btn:hover {
            background-color: #ff5252;
            transform: translateY(-2px);
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)),
                url('https://images.unsplash.com/photo-1504674900247-0877df9cc836?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80');
            background-size: cover;
            background-position: center;
            color: white;
            text-align: center;
            padding: 50px 0;
            margin-bottom: 30px;
            width: 100%;
        }

        .hero h1 {
            font-size: 2rem;
            margin-bottom: 15px;
            text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.5);
            line-height: 1.3;
            padding: 0 10px;
        }

        .search-container {
            max-width: 100%;
            margin: 20px auto 0;
            position: relative;
            padding: 0 15px;
        }

        .search-input {
            width: 100%;
            padding: 15px 20px;
            border-radius: 50px;
            border: none;
            font-size: 16px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .search-btn {
            position: absolute;
            right: 25px;
            top: 50%;
            transform: translateY(-50%);
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 50%;
            width: 45px;
            height: 45px;
            cursor: pointer;
            font-size: 16px;
        }

        /* Categories */
        .categories-section {
            padding: 30px 0;
            width: 100%;
        }

        .section-title {
            text-align: center;
            margin-bottom: 30px;
            font-size: 1.8rem;
            color: var(--dark-color);
            position: relative;
            padding: 0 10px;
        }

        .section-title:after {
            content: '';
            display: block;
            width: 60px;
            height: 4px;
            background-color: var(--primary-color);
            margin: 10px auto;
        }

        .categories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 40px;
        }

        .category-card {
            background-color: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .category-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.12);
        }

        .category-icon {
            height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            color: white;
        }

        .category-1 {
            background-color: #ff9a76;
        }

        .category-2 {
            background-color: #4ecdc4;
        }

        .category-3 {
            background-color: #ffd166;
        }

        .category-4 {
            background-color: #06d6a0;
        }

        .category-5 {
            background-color: #118ab2;
        }

        .category-6 {
            background-color: #ef476f;
        }

        .category-7 {
            background-color: #9d4edd;
        }

        .category-8 {
            background-color: #fb8500;
        }

        .category-9 {
            background-color: #8ac926;
        }

        .category-info {
            padding: 15px;
        }

        .category-info h3 {
            margin-bottom: 8px;
            font-size: 1.1rem;
        }

        .category-count {
            color: var(--gray-color);
            font-weight: 600;
            font-size: 0.9rem;
        }

        /* Recipes Section */
        .recipes-section {
            padding: 30px 0 60px;
            width: 100%;
        }

        .recipes-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
        }

        .recipe-card {
            background-color: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
        }

        .recipe-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
        }

        .recipe-img {
            height: 180px;
            background-size: cover;
            background-position: center;
            position: relative;
            width: 100%;
        }

        .recipe-img-default {
            background-color: #f0f0f0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: var(--gray-color);
            height: 100%;
        }

        .recipe-img-default i {
            font-size: 50px;
            margin-bottom: 10px;
        }

        .recipe-content {
            padding: 15px;
        }

        .recipe-category {
            display: inline-block;
            background-color: var(--secondary-color);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            margin-bottom: 8px;
        }

        .recipe-title {
            font-size: 1.2rem;
            margin-bottom: 8px;
            color: var(--dark-color);
            line-height: 1.3;
        }

        .recipe-description {
            color: var(--gray-color);
            margin-bottom: 12px;
            font-size: 0.9rem;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            line-height: 1.4;
        }

        .recipe-meta {
            display: flex;
            justify-content: space-between;
            color: var(--gray-color);
            font-size: 0.85rem;
            border-top: 1px solid #eee;
            padding-top: 12px;
            flex-wrap: wrap;
            gap: 5px;
        }

        .recipe-actions {
            display: flex;
            gap: 8px;
            margin-top: 12px;
        }

        .delete-recipe-btn {
            background-color: #f8f9fa;
            color: var(--danger-color);
            border: 1px solid #e9ecef;
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 0.85rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
            transition: all 0.3s ease;
            width: 100%;
            justify-content: center;
        }

        .delete-recipe-btn:hover {
            background-color: var(--danger-color);
            color: white;
        }

        .no-recipes {
            grid-column: 1 / -1;
            text-align: center;
            padding: 40px 15px;
            color: var(--gray-color);
            font-size: 1.1rem;
        }

        .no-recipes i {
            font-size: 50px;
            margin-bottom: 15px;
            color: #ddd;
        }

        /* Modals */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: flex-start;
            padding: 15px;
            overflow-y: auto;
        }

        .modal-content {
            background-color: white;
            width: 100%;
            max-width: 800px;
            border-radius: 12px;
            overflow: hidden;
            max-height: 90vh;
            overflow-y: auto;
            margin-top: 20px;
            margin-bottom: 20px;
        }

        .modal-header {
            background-color: var(--primary-color);
            color: white;
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 1;
        }

        .modal-header h2 {
            font-size: 1.3rem;
            line-height: 1.3;
        }

        .close-modal {
            background: none;
            border: none;
            color: white;
            font-size: 22px;
            cursor: pointer;
            line-height: 1;
            flex-shrink: 0;
        }

        .modal-body {
            padding: 20px;
        }

        .modal-recipe-img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 15px;
        }

        .modal-recipe-info {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-bottom: 25px;
        }

        .modal-ingredients,
        .modal-instructions {
            background-color: #f9f9f9;
            padding: 15px;
            border-radius: 8px;
        }

        .modal-ingredients h3,
        .modal-instructions h3 {
            margin-bottom: 12px;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 1.1rem;
        }

        .modal-ingredients ul {
            list-style-type: none;
            padding-left: 0;
        }

        .modal-ingredients li {
            padding: 6px 0;
            border-bottom: 1px dashed #ddd;
            display: flex;
            align-items: flex-start;
            gap: 10px;
            line-height: 1.4;
        }

        .modal-ingredients li:last-child {
            border-bottom: none;
        }

        .modal-ingredients li i {
            color: var(--secondary-color);
            margin-top: 2px;
            flex-shrink: 0;
        }

        .modal-instructions p {
            line-height: 1.6;
            white-space: pre-line;
        }

        .modal-recipe-meta {
            display: flex;
            flex-direction: column;
            gap: 15px;
            padding-top: 15px;
            border-top: 1px solid #eee;
            color: var(--gray-color);
        }

        .modal-actions {
            display: flex;
            gap: 10px;
        }

        .btn-delete {
            background-color: var(--danger-color);
            color: white;
            width: 100%;
            justify-content: center;
        }

        .btn-delete:hover {
            background-color: #c1121f;
        }

        /* Confirmation Modal */
        .confirmation-modal .modal-content {
            max-width: 500px;
        }

        .confirmation-modal .modal-body {
            text-align: center;
            padding: 25px;
        }

        .confirmation-icon {
            font-size: 50px;
            color: var(--danger-color);
            margin-bottom: 15px;
        }

        .confirmation-text {
            font-size: 1.1rem;
            margin-bottom: 20px;
            line-height: 1.5;
        }

        .confirmation-actions {
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
        }

        /* Form */
        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 6px;
            font-weight: 600;
            color: var(--dark-color);
            font-size: 0.95rem;
        }

        .form-control {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 15px;
            transition: border 0.3s ease;
        }

        .form-control:focus {
            border-color: var(--primary-color);
            outline: none;
        }

        textarea.form-control {
            min-height: 100px;
            resize: vertical;
        }

        .image-upload-container {
            border: 2px dashed #ddd;
            border-radius: 6px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .image-upload-container:hover {
            border-color: var(--primary-color);
            background-color: #f9f9f9;
        }

        .image-upload-icon {
            font-size: 40px;
            color: var(--gray-color);
            margin-bottom: 10px;
        }

        .image-upload-text {
            color: var(--gray-color);
            margin-bottom: 8px;
            font-size: 0.9rem;
        }

        .image-upload-btn {
            background-color: var(--secondary-color);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.9rem;
            display: inline-block;
            position: relative;
            z-index: 2;
        }

        /* Исправление для мобильных устройств */
        .file-input-wrapper {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            cursor: pointer;
            z-index: 3;
        }

        #recipe-image {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            opacity: 0;
            cursor: pointer;
            z-index: 3;
        }

        #image-preview {
            max-width: 100%;
            max-height: 150px;
            margin-top: 12px;
            border-radius: 6px;
            display: none;
            object-fit: contain;
        }

        .image-preview-container {
            position: relative;
            display: inline-block;
            width: 100%;
        }

        .remove-image-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            border: none;
            border-radius: 50%;
            width: 28px;
            height: 28px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 4;
        }

        .form-actions {
            display: flex;
            justify-content: flex-end;
            gap: 12px;
            margin-top: 25px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 20px;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            border: none;
            transition: all 0.3s ease;
            font-size: 0.95rem;
            flex-grow: 1;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background-color: #ff5252;
        }

        .btn-secondary {
            background-color: #f1f1f1;
            color: var(--dark-color);
        }

        .btn-secondary:hover {
            background-color: #e1e1e1;
        }

        /* Footer */
        footer {
            background-color: var(--dark-color);
            color: white;
            padding: 30px 0;
            text-align: center;
            width: 100%;
        }

        .footer-content {
            max-width: 800px;
            margin: 0 auto;
            padding: 0 15px;
        }

        .footer-logo {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 15px;
            color: var(--primary-color);
        }

        .footer-description {
            color: #aaa;
            margin-bottom: 20px;
            line-height: 1.6;
            font-size: 0.95rem;
        }

        /* Responsive */
        @media (min-width: 576px) {
            .hero h1 {
                font-size: 2.2rem;
            }

            .section-title {
                font-size: 2rem;
            }

            .categories-grid {
                grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
                gap: 20px;
            }

            .category-icon {
                height: 120px;
            }

            .recipe-card {
                min-width: 0;
            }

            .modal-recipe-info {
                flex-direction: row;
            }

            .modal-recipe-info>div {
                flex: 1;
            }

            .modal-recipe-meta {
                flex-direction: row;
                align-items: center;
                justify-content: space-between;
            }

            .btn {
                flex-grow: 0;
            }
        }

        @media (min-width: 768px) {
            .header-container {
                flex-wrap: nowrap;
            }

            nav {
                width: auto;
                order: 2;
                margin-top: 0;
            }

            nav ul {
                flex-wrap: nowrap;
                overflow-x: visible;
                padding-bottom: 0;
            }

            nav ul li a {
                font-size: 15px;
                padding: 8px 15px;
            }

            .logo {
                font-size: 26px;
            }

            .add-recipe-btn {
                order: 3;
            }

            .hero {
                padding: 70px 0;
            }

            .hero h1 {
                font-size: 2.5rem;
            }

            .search-container {
                max-width: 600px;
            }

            .categories-grid {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
                gap: 25px;
            }

            .recipes-container {
                grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
                gap: 25px;
            }

            .modal {
                align-items: center;
                padding: 30px;
            }

            .modal-content {
                margin-top: 0;
                margin-bottom: 0;
            }

            .modal-header h2 {
                font-size: 1.5rem;
            }

            .modal-recipe-img {
                height: 250px;
            }

        }

        @media (min-width: 992px) {
            .hero h1 {
                font-size: 3rem;
            }

            .section-title {
                font-size: 2.2rem;
            }

            .categories-grid {
                grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            }

            .category-icon {
                height: 140px;
                font-size: 50px;
            }

            .modal-recipe-img {
                height: 300px;
            }
        }

        @media (max-width: 767px) {
            nav {
                display: none;
            }
        }

        /* Улучшения для очень маленьких экранов */
        @media (max-width: 360px) {
            .logo {
                font-size: 22px;
            }

            .logo i {
                font-size: 24px;
            }

            .add-recipe-btn {
                padding: 8px 12px;
                font-size: 13px;
            }

            .hero h1 {
                font-size: 1.8rem;
            }

            .search-input {
                padding: 12px 18px;
                font-size: 15px;
            }

            .search-btn {
                width: 40px;
                height: 40px;
                right: 20px;
            }

            .categories-grid {
                grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));
                gap: 12px;
            }

            .category-info h3 {
                font-size: 1rem;
            }

            .recipe-title {
                font-size: 1.1rem;
            }

            .recipe-meta span {
                font-size: 0.8rem;
            }

            .modal {
                padding: 10px;
            }

            .modal-header {
                padding: 12px;
            }

            .modal-body {
                padding: 15px;
            }

            .image-upload-container {
                padding: 15px;
            }

            .image-upload-icon {
                font-size: 35px;
            }

            .image-upload-text {
                font-size: 0.85rem;
            }
        }
    </style>
</head>

<body>
    <!-- Header -->
    <header>
        <div class="container header-container">
            <div class="logo">
                <i class="fas fa-utensils"></i>
                <span>bookly</span>
            </div>

            <nav>
                <ul id="category-nav">
                    <!-- Категории будут загружены через JavaScript -->
                </ul>
            </nav>

            <button class="add-recipe-btn" id="open-modal-btn">
                <i class="fas fa-plus"></i>
                Добавить рецепт
            </button>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h1>Поиск вашего любимого блюда</h1>
            <div class="search-container">
                <input type="text" class="search-input" id="search-input"
                    placeholder="Введите название рецепта или ингредиент...">
                <button class="search-btn" id="search-btn">
                    <i class="fas fa-search"></i>
                </button>
            </div>
        </div>
    </section>

    <!-- Categories Section -->
    <section class="categories-section">
        <div class="container">
            <h2 class="section-title">Категории рецептов</h2>
            <div class="categories-grid" id="categories-grid">
                <!-- Категории будут загружены через JavaScript -->
            </div>
        </div>
    </section>

    <!-- Recipes Section -->
    <section class="recipes-section">
        <div class="container">
            <h2 class="section-title">Последние рецепты</h2>
            <div class="recipes-container" id="recipes-container">
                <!-- Рецепты будут загружены через JavaScript -->
                <div class="no-recipes" id="no-recipes">
                    <i class="fas fa-utensil-spoon"></i>
                    <p>Рецептов пока нет. Добавьте первый рецепт!</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">bookly</div>
                <p class="footer-description">
                    Bookly - это платформа для создания, хранения и поиска рецептов.
                    Здесь вы можете поделиться своими кулинарными шедеврами и найти вдохновение для приготовления новых
                    блюд.
                </p>
                <p>&copy; 2026 Bookly. Все права защищены.</p>
            </div>
        </div>
    </footer>

    <!-- Modal для добавления рецепта -->
    <div class="modal" id="add-recipe-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Добавить новый рецепт</h2>
                <button class="close-modal" id="close-add-modal-btn">&times;</button>
            </div>
            <div class="modal-body">
                <form id="recipe-form">
                    <div class="form-group">
                        <label for="recipe-name">Название рецепта</label>
                        <input type="text" id="recipe-name" class="form-control" placeholder="Например: Салат Цезарь"
                            required>
                    </div>

                    <div class="form-group">
                        <label for="recipe-category">Категория</label>
                        <select id="recipe-category" class="form-control" required>
                            <!-- Категории будут загружены через JavaScript -->
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="recipe-image">Изображение блюда</label>
                        <div class="image-upload-container" id="image-upload-container">
                            <div class="file-input-wrapper">
                                <input type="file" id="recipe-image" accept="image/*" class="file-input">
                            </div>
                            <div class="image-upload-icon">
                                <i class="fas fa-cloud-upload-alt"></i>
                            </div>
                            <p class="image-upload-text">Нажмите в любом месте, чтобы загрузить изображение</p>
                            <button type="button" class="image-upload-btn" id="upload-image-btn">Выбрать файл</button>
                            <div class="image-preview-container">
                                <img id="image-preview" alt="Превью изображения">
                                <button type="button" class="remove-image-btn" id="remove-image-btn"
                                    style="display: none;">×</button>
                            </div>
                        </div>
                        <p class="image-upload-text">Или будет использовано стандартное изображение для категории</p>
                    </div>

                    <div class="form-group">
                        <label for="recipe-description">Описание рецепта (инструкция приготовления)</label>
                        <textarea id="recipe-description" class="form-control"
                            placeholder="Опишите процесс приготовления блюда..." required></textarea>
                    </div>

                    <div class="form-group">
                        <label for="recipe-ingredients">Ингредиенты (каждый с новой строки)</label>
                        <textarea id="recipe-ingredients" class="form-control"
                            placeholder="Ингредиент 1&#10;Ингредиент 2&#10;Ингредиент 3" required></textarea>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" id="cancel-btn">Отмена</button>
                        <button type="submit" class="btn btn-primary">Добавить рецепт</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal для просмотра рецепта -->
    <div class="modal" id="view-recipe-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="view-recipe-title">Название рецепта</h2>
                <button class="close-modal" id="close-view-modal-btn">&times;</button>
            </div>
            <div class="modal-body">
                <img id="view-recipe-image" class="modal-recipe-img" alt="Изображение блюда">

                <div class="modal-recipe-info">
                    <div class="modal-ingredients">
                        <h3><i class="fas fa-shopping-basket"></i> Ингредиенты</h3>
                        <ul id="view-recipe-ingredients">
                            <!-- Ингредиенты будут загружены через JavaScript -->
                        </ul>
                    </div>

                    <div class="modal-instructions">
                        <h3><i class="fas fa-list-ol"></i> Инструкция приготовления</h3>
                        <p id="view-recipe-description">Описание рецепта</p>
                    </div>
                </div>

                <div class="modal-recipe-meta">
                    <div>
                        <span id="view-recipe-category">Категория</span>
                        <span id="view-recipe-date" style="display: block; margin-top: 5px;">Дата добавления</span>
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="btn btn-delete" id="delete-recipe-modal-btn">
                            <i class="fas fa-trash"></i> Удалить рецепт
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal для подтверждения удаления -->
    <div class="modal confirmation-modal" id="confirm-delete-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Подтверждение удаления</h2>
                <button class="close-modal" id="close-confirm-modal-btn">&times;</button>
            </div>
            <div class="modal-body">
                <div class="confirmation-icon">
                    <i class="fas fa-exclamation-triangle"></i>
                </div>
                <p class="confirmation-text" id="confirm-delete-text">
                    Вы уверены, что хотите удалить этот рецепт? Это действие нельзя отменить.
                </p>
                <div class="confirmation-actions">
                    <button type="button" class="btn btn-secondary" id="cancel-delete-btn">Отмена</button>
                    <button type="button" class="btn btn-delete" id="confirm-delete-btn">Да, удалить</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Данные категорий из дизайна
        const categories = [
            { id: 1, name: "Супы", icon: "fa-bowl-food" },
            { id: 2, name: "Салаты", icon: "fa-leaf" },
            { id: 3, name: "Завтраки", icon: "fa-egg" },
            { id: 4, name: "Первое", icon: "fa-utensils" },
            { id: 5, name: "Мучное", icon: "fa-bread-slice" },
            { id: 6, name: "Второе", icon: "fa-drumstick-bite" },
            { id: 7, name: "Сладости", icon: "fa-cookie" },
            { id: 8, name: "Гарниры", icon: "fa-pot-food" },
            { id: 9, name: "Соусы", icon: "fa-jar" }
        ];

        // Изображения по умолчанию для каждой категории
        const defaultImages = {
            "Супы": "https://images.unsplash.com/photo-1547592166-23ac45744acd?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
            "Салаты": "https://images.unsplash.com/photo-1546069901-ba9599a7e63c?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
            "Завтраки": "https://images.unsplash.com/photo-1482049016688-2d3e1b311543?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
            "Первое": "https://images.unsplash.com/photo-1546833999-b9f581a1996d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
            "Мучное": "https://images.unsplash.com/photo-1509440159596-0249088772ff?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
            "Второе": "https://images.unsplash.com/photo-1565958011703-44f9829ba187?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
            "Сладости": "https://images.unsplash.com/photo-1499636136210-6f4ee915583e?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
            "Гарниры": "https://images.unsplash.com/photo-1476124369491-e7addf5db371?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
            "Соусы": "https://images.unsplash.com/photo-1472476443507-c7a5948772fc?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
        };

        // Массив для хранения рецептов
        let recipes = JSON.parse(localStorage.getItem('bookly-recipes')) || [];

        // Примеры рецептов для начального заполнения - с изображениями!
        const sampleRecipes = [
            {
                id: 1,
                name: "Борщ украинский",
                category: "Супы",
                description: "1. Подготовить все ингредиенты: мясо нарезать кубиками, овощи очистить и нарезать.\n2. В кастрюле обжарить лук и морковь до мягкости.\n3. Добавить свеклу и тушить 5-7 минут.\n4. Добавить томатную пасту, перемешать и тушить еще 3 минуты.\n5. В другую кастрюлю налить воду, добавить мясо и варить 40 минут.\n6. Добавить картофель и капусту, варить 15 минут.\n7. Добавить зажарку из овощей, варить еще 10 минут.\n8. Добавить специи и зелень, дать настояться 20 минут перед подачей.",
                ingredients: "Говядина 500г\nСвекла 2 шт\nКапуста 300г\nКартофель 3 шт\nМорковь 1 шт\nЛук 1 шт\nТоматная паста 2 ст.л.\nЧеснок 2 зубчика\nЗелень (укроп, петрушка)\nСоль, перец по вкусу",
                date: "2026-10-15",
                image: "https://images.unsplash.com/photo-1547592166-23ac45744acd?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
            },
            {
                id: 2,
                name: "Салат Цезарь",
                category: "Салаты",
                description: "1. Куриное филе промыть, обсушить и нарезать полосками.\n2. Обжарить курицу на сковороде до золотистой корочки.\n3. Салат романо промыть, обсушить и порвать руками на крупные куски.\n4. Пармезан натереть на крупной терке.\n5. Сухарики можно купить готовые или сделать самостоятельно из багета.\n6. Для соуса смешать в блендере йогурт, чеснок, лимонный сок, горчицу и вустерский соус.\n7. На тарелку выложить салат, сверху курицу, полить соусом, посыпать пармезаном и сухариками.",
                ingredients: "Куриное филе 300г\nСалат романо 1 кочан\nПармезан 100г\nСухарики 100г\nЙогурт натуральный 150г\nЧеснок 2 зубчика\nЛимонный сок 1 ст.л.\nГорчица 1 ч.л.\nВустерский соус 1 ч.л.\nСоль, перец по вкусу",
                date: "2026-10-10",
                image: "https://images.unsplash.com/photo-1546069901-ba9599a7e63c?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
            },
            {
                id: 3,
                name: "Омлет с сыром",
                category: "Завтраки",
                description: "1. Яйца взбить венчиком или вилкой с молоком до однородности.\n2. Добавить соль и перец по вкусу.\n3. Сыр натереть на средней терке.\n4. Зелень мелко нарезать.\n5. Разогреть сковороду на среднем огне, добавить немного масла.\n6. Вылить яичную смесь на сковороду.\n7. Когда омлет начнет схватываться по краям, посыпать сыром и зеленью.\n8. Накрыть сковороду крышкой и готовить 3-4 минуты на маленьком огне.\n9. Сложить омлет пополам и подавать горячим.",
                ingredients: "Яйца 3 шт\nМолоко 50мл\nСыр 50г\nЗелень (петрушка, укроп) по вкусу\nСоль, перец по вкусу\nМасло для жарки",
                date: "2026-10-05",
                image: "https://images.unsplash.com/photo-1482049016688-2d3e1b311543?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
            },
            {
                id: 4,
                name: "Пельмени домашние",
                category: "Мучное",
                description: "1. Приготовить тесто: смешать муку, яйцо, воду и соль, замесить тесто.\n2. Для начинки смешать фарш, лук, соль и перец.\n3. Тесто раскатать тонким слоем и вырезать кружки.\n4. На каждый кружок положить начинку, защипнуть края.\n5. Варить пельмени в подсоленной воде 5-7 минут после всплытия.\n6. Подавать со сметаной, маслом или уксусом.",
                ingredients: "Мука 500г\nЯйцо 1 шт\nВода 200мл\nФарш мясной 500г\nЛук репчатый 1 шт\nСоль, перец по вкусу",
                date: "2026-09-28",
                image: "https://images.unsplash.com/photo-1509440159596-0249088772ff?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
            },
            {
                id: 5,
                name: "Шоколадный торт",
                category: "Сладости",
                description: "1. Разогреть духовку до 180°C.\n2. Смешать муку, какао, разрыхлитель и соль.\n3. В другой миске взбить яйца с сахаром до пышности.\n4. Добавить масло, молоко и ваниль, перемешать.\n5. Соединить сухие и жидкие ингредиенты, перемешать до однородности.\n6. Вылить тесто в форму и выпекать 25-30 минут.\n7. Для крема взбить сливки с сахарной пудрой.\n8. Остывший торт разрезать пополам, промазать кремом.",
                ingredients: "Мука 200г\nКакао 50г\nЯйца 3 шт\nСахар 200г\nМасло сливочное 100г\nМолоко 150мл\nСливки 300мл\nСахарная пудра 100г\nВанилин 1 ч.л.\nРазрыхлитель 1 ч.л.",
                date: "2026-09-20",
                image: "https://images.unsplash.com/photo-1499636136210-6f4ee915583e?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
            }
        ];

        // Инициализация рецептов, если их нет в localStorage
        if (recipes.length === 0) {
            recipes = sampleRecipes;
            saveRecipes();
        }

        // DOM элементы
        const categoryNav = document.getElementById('category-nav');
        const categoriesGrid = document.getElementById('categories-grid');
        const recipesContainer = document.getElementById('recipes-container');
        const noRecipes = document.getElementById('no-recipes');

        // Модальные окна
        const addRecipeModal = document.getElementById('add-recipe-modal');
        const viewRecipeModal = document.getElementById('view-recipe-modal');
        const confirmDeleteModal = document.getElementById('confirm-delete-modal');

        // Кнопки модальных окон
        const openModalBtn = document.getElementById('open-modal-btn');
        const closeAddModalBtn = document.getElementById('close-add-modal-btn');
        const closeViewModalBtn = document.getElementById('close-view-modal-btn');
        const closeConfirmModalBtn = document.getElementById('close-confirm-modal-btn');
        const cancelBtn = document.getElementById('cancel-btn');

        // Форма
        const recipeForm = document.getElementById('recipe-form');
        const recipeCategorySelect = document.getElementById('recipe-category');

        // Поиск
        const searchInput = document.getElementById('search-input');
        const searchBtn = document.getElementById('search-btn');

        // Загрузка изображений
        const imageUploadContainer = document.getElementById('image-upload-container');
        const uploadImageBtn = document.getElementById('upload-image-btn');
        const recipeImageInput = document.getElementById('recipe-image');
        const imagePreview = document.getElementById('image-preview');
        const removeImageBtn = document.getElementById('remove-image-btn');

        // Просмотр рецепта
        const viewRecipeTitle = document.getElementById('view-recipe-title');
        const viewRecipeImage = document.getElementById('view-recipe-image');
        const viewRecipeIngredients = document.getElementById('view-recipe-ingredients');
        const viewRecipeDescription = document.getElementById('view-recipe-description');
        const viewRecipeCategory = document.getElementById('view-recipe-category');
        const viewRecipeDate = document.getElementById('view-recipe-date');

        // Удаление рецепта
        const deleteRecipeModalBtn = document.getElementById('delete-recipe-modal-btn');
        const cancelDeleteBtn = document.getElementById('cancel-delete-btn');
        const confirmDeleteBtn = document.getElementById('confirm-delete-btn');
        const confirmDeleteText = document.getElementById('confirm-delete-text');

        // Текущая выбранная категория для фильтрации
        let currentCategory = 'all';
        let currentSearch = '';

        // Текущее изображение для загрузки
        let currentImageData = '';

        // Текущий рецепт для удаления
        let currentRecipeToDelete = null;

        // Инициализация приложения
        function initApp() {
            renderCategories();
            renderRecipes();
            setupEventListeners();
        }

        // Рендер категорий в навигации и в модальном окне
        function renderCategories() {
            // Очистка контейнеров
            categoryNav.innerHTML = '';
            categoriesGrid.innerHTML = '';
            recipeCategorySelect.innerHTML = '<option value="">Выберите категорию</option>';

            // Добавление категории "Все" в навигацию
            const allCategory = document.createElement('li');
            allCategory.innerHTML = `<a href="#" class="${currentCategory === 'all' ? 'active' : ''}" data-category="all">Все</a>`;
            categoryNav.appendChild(allCategory);

            // Добавление всех категорий
            categories.forEach((category, index) => {
                // Добавление в навигацию
                const navItem = document.createElement('li');
                navItem.innerHTML = `<a href="#" class="${currentCategory === category.name ? 'active' : ''}" data-category="${category.name}">${category.name}</a>`;
                categoryNav.appendChild(navItem);

                // Добавление в сетку категорий
                const categoryCard = document.createElement('div');
                categoryCard.className = 'category-card';
                categoryCard.setAttribute('data-category', category.name);

                // Подсчет рецептов в категории
                const recipeCount = recipes.filter(recipe => recipe.category === category.name).length;

                categoryCard.innerHTML = `
                    <div class="category-icon category-${index + 1}">
                        <i class="fas ${category.icon}"></i>
                    </div>
                    <div class="category-info">
                        <h3>${category.name}</h3>
                        <p class="category-count">${recipeCount} рецептов</p>
                    </div>
                `;

                categoriesGrid.appendChild(categoryCard);

                // Добавление в выпадающий список
                const option = document.createElement('option');
                option.value = category.name;
                option.textContent = category.name;
                recipeCategorySelect.appendChild(option);
            });
        }

        // Рендер рецептов
        function renderRecipes() {
            // Очистка контейнера
            recipesContainer.innerHTML = '';

            // Фильтрация рецептов по категории и поисковому запросу
            let filteredRecipes = recipes;

            if (currentCategory !== 'all') {
                filteredRecipes = filteredRecipes.filter(recipe => recipe.category === currentCategory);
            }

            if (currentSearch) {
                const searchLower = currentSearch.toLowerCase();
                filteredRecipes = filteredRecipes.filter(recipe =>
                    recipe.name.toLowerCase().includes(searchLower) ||
                    recipe.description.toLowerCase().includes(searchLower) ||
                    recipe.ingredients.toLowerCase().includes(searchLower)
                );
            }

            // Показать сообщение, если нет рецептов
            if (filteredRecipes.length === 0) {
                noRecipes.style.display = 'block';
                recipesContainer.appendChild(noRecipes);
                return;
            }

            // Скрыть сообщение о пустом списке
            noRecipes.style.display = 'none';

            // Отображение рецептов
            filteredRecipes.forEach(recipe => {
                const recipeCard = document.createElement('div');
                recipeCard.className = 'recipe-card';
                recipeCard.setAttribute('data-id', recipe.id);

                // Получение изображения для рецепта
                let recipeImage = recipe.image;
                if (!recipeImage && defaultImages[recipe.category]) {
                    recipeImage = defaultImages[recipe.category];
                }

                // Форматирование даты
                const formattedDate = new Date(recipe.date).toLocaleDateString('ru-RU');

                recipeCard.innerHTML = `
                    <div class="recipe-img" style="${recipeImage ? `background-image: url('${recipeImage}')` : ''}">
                        ${!recipeImage ? `
                            <div class="recipe-img-default">
                                <i class="fas fa-utensils"></i>
                                <span>${recipe.category}</span>
                            </div>
                        ` : ''}
                    </div>
                    <div class="recipe-content">
                        <span class="recipe-category">${recipe.category}</span>
                        <h3 class="recipe-title">${recipe.name}</h3>
                        <p class="recipe-description">${recipe.description}</p>
                        <div class="recipe-meta">
                            <span><i class="far fa-calendar"></i> ${formattedDate}</span>
                            <span><i class="fas fa-utensils"></i> ${recipe.ingredients.split('\n').length} ингредиентов</span>
                        </div>
                        <div class="recipe-actions">
                            <button class="delete-recipe-btn" data-id="${recipe.id}">
                                <i class="fas fa-trash"></i> Удалить
                            </button>
                        </div>
                    </div>
                `;

                recipesContainer.appendChild(recipeCard);
            });

            // Обновление счетчика рецептов в категориях
            updateCategoryCounts();
        }

        // Обновление счетчиков рецептов в категориях
        function updateCategoryCounts() {
            document.querySelectorAll('.category-card').forEach(card => {
                const categoryName = card.getAttribute('data-category');
                const recipeCount = recipes.filter(recipe => recipe.category === categoryName).length;
                card.querySelector('.category-count').textContent = `${recipeCount} рецептов`;
            });
        }

        // Сохранение рецептов в localStorage
        function saveRecipes() {
            localStorage.setItem('bookly-recipes', JSON.stringify(recipes));
        }

        // Настройка обработчиков событий
        function setupEventListeners() {
            // Открытие модального окна для добавления рецепта
            openModalBtn.addEventListener('click', () => {
                addRecipeModal.style.display = 'flex';
                document.getElementById('recipe-name').focus();
            });

            // Закрытие модальных окон
            closeAddModalBtn.addEventListener('click', () => closeModal(addRecipeModal));
            closeViewModalBtn.addEventListener('click', () => closeModal(viewRecipeModal));
            closeConfirmModalBtn.addEventListener('click', () => closeModal(confirmDeleteModal));
            cancelBtn.addEventListener('click', () => closeModal(addRecipeModal));

            // Закрытие модальных окон при клике вне их
            window.addEventListener('click', (e) => {
                if (e.target === addRecipeModal || e.target === viewRecipeModal || e.target === confirmDeleteModal) {
                    closeModal(e.target);
                }
            });

            // Отправка формы добавления рецепта
            recipeForm.addEventListener('submit', (e) => {
                e.preventDefault();
                addRecipe();
            });

            // Загрузка изображения - ИСПРАВЛЕНО ДЛЯ МОБИЛЬНЫХ
            uploadImageBtn.addEventListener('click', () => {
                recipeImageInput.click();
            });

            // Клик по всей области контейнера
            imageUploadContainer.addEventListener('click', (e) => {
                // Предотвращаем срабатывание на дочерних элементах
                if (e.target !== uploadImageBtn && e.target !== removeImageBtn && !e.target.closest('.remove-image-btn')) {
                    recipeImageInput.click();
                }
            });

            recipeImageInput.addEventListener('change', handleImageUpload);

            removeImageBtn.addEventListener('click', () => {
                clearImagePreview();
            });

            // Удаление рецепта
            deleteRecipeModalBtn.addEventListener('click', () => {
                if (currentRecipeToDelete) {
                    showDeleteConfirmation(currentRecipeToDelete);
                }
            });

            cancelDeleteBtn.addEventListener('click', () => closeModal(confirmDeleteModal));

            confirmDeleteBtn.addEventListener('click', () => {
                if (currentRecipeToDelete) {
                    deleteRecipe(currentRecipeToDelete);
                }
            });

            // Фильтрация по категориям
            document.addEventListener('click', (e) => {
                // Клик по категории в навигации
                if (e.target.closest('#category-nav a')) {
                    e.preventDefault();
                    const category = e.target.getAttribute('data-category');

                    // Обновление активного элемента в навигации
                    document.querySelectorAll('#category-nav a').forEach(link => {
                        link.classList.remove('active');
                    });
                    e.target.classList.add('active');

                    // Установка текущей категории и перерисовка рецептов
                    currentCategory = category;
                    renderRecipes();
                }

                // Клик по карточке категории
                if (e.target.closest('.category-card')) {
                    const category = e.target.closest('.category-card').getAttribute('data-category');

                    // Обновление активного элемента в навигации
                    document.querySelectorAll('#category-nav a').forEach(link => {
                        link.classList.remove('active');
                        if (link.getAttribute('data-category') === category) {
                            link.classList.add('active');
                        }
                    });

                    // Установка текущей категории и перерисовка рецептов
                    currentCategory = category;
                    renderRecipes();

                    // Прокрутка к рецептам
                    document.querySelector('.recipes-section').scrollIntoView({ behavior: 'smooth' });
                }

                // Клик по карточке рецепта для просмотра
                if (e.target.closest('.recipe-card') && !e.target.closest('.delete-recipe-btn')) {
                    const recipeId = parseInt(e.target.closest('.recipe-card').getAttribute('data-id'));
                    viewRecipe(recipeId);
                }

                // Клик по кнопке удаления в карточке рецепта
                if (e.target.closest('.delete-recipe-btn')) {
                    e.stopPropagation(); // Останавливаем всплытие, чтобы не открывалось модальное окно просмотра
                    const recipeId = parseInt(e.target.closest('.delete-recipe-btn').getAttribute('data-id'));
                    showDeleteConfirmation(recipeId);
                }
            });

            // Поиск рецептов
            searchBtn.addEventListener('click', performSearch);
            searchInput.addEventListener('keyup', (e) => {
                if (e.key === 'Enter') {
                    performSearch();
                }
            });
        }

        // Закрытие модального окна
        function closeModal(modal) {
            modal.style.display = 'none';

            // Если закрываем форму добавления рецепта, сбрасываем ее
            if (modal === addRecipeModal) {
                recipeForm.reset();
                clearImagePreview();
            }

            // Если закрываем модальное окно подтверждения удаления, сбрасываем текущий рецепт
            if (modal === confirmDeleteModal) {
                currentRecipeToDelete = null;
            }
        }

        // Загрузка изображения
        function handleImageUpload(event) {
            const file = event.target.files[0];

            if (!file) return;

            // Проверка типа файла
            if (!file.type.match('image.*')) {
                alert('Пожалуйста, выберите файл изображения (JPEG, PNG, GIF и т.д.)');
                return;
            }

            // Проверка размера файла (максимум 5MB)
            if (file.size > 5 * 1024 * 1024) {
                alert('Размер файла не должен превышать 5MB');
                return;
            }

            const reader = new FileReader();

            reader.onload = function (e) {
                imagePreview.src = e.target.result;
                imagePreview.style.display = 'block';
                removeImageBtn.style.display = 'flex';
                currentImageData = e.target.result;
            };

            reader.readAsDataURL(file);
        }

        // Очистка превью изображения
        function clearImagePreview() {
            imagePreview.src = '';
            imagePreview.style.display = 'none';
            removeImageBtn.style.display = 'none';
            recipeImageInput.value = '';
            currentImageData = '';
        }

        // Добавление нового рецепта
        function addRecipe() {
            const name = document.getElementById('recipe-name').value.trim();
            const category = document.getElementById('recipe-category').value;
            const description = document.getElementById('recipe-description').value.trim();
            const ingredients = document.getElementById('recipe-ingredients').value.trim();

            // Валидация
            if (!name || !category || !description || !ingredients) {
                alert('Пожалуйста, заполните все обязательные поля');
                return;
            }

            // Создание нового рецепта
            const newRecipe = {
                id: Date.now(), // Используем временную метку как ID
                name,
                category,
                description,
                ingredients,
                date: new Date().toISOString().split('T')[0], // Текущая дата в формате YYYY-MM-DD
                image: currentImageData // Сохраняем загруженное изображение
            };

            // Добавление рецепта в массив
            recipes.unshift(newRecipe); // Добавляем в начало массива
            saveRecipes();

            // Закрытие модального окна и перерисовка интерфейса
            closeModal(addRecipeModal);
            renderCategories();
            renderRecipes();

            // Прокрутка к рецептам
            document.querySelector('.recipes-section').scrollIntoView({ behavior: 'smooth' });

            // Уведомление пользователя
            alert(`Рецепт "${name}" успешно добавлен в категорию "${category}"!`);
        }

        // Просмотр рецепта
        function viewRecipe(recipeId) {
            const recipe = recipes.find(r => r.id === recipeId);

            if (!recipe) return;

            // Сохраняем ID текущего рецепта для возможного удаления
            currentRecipeToDelete = recipeId;

            // Заполнение данных в модальном окне
            viewRecipeTitle.textContent = recipe.name;

            // Установка изображения
            if (recipe.image) {
                viewRecipeImage.src = recipe.image;
            } else if (defaultImages[recipe.category]) {
                viewRecipeImage.src = defaultImages[recipe.category];
            } else {
                viewRecipeImage.src = 'https://images.unsplash.com/photo-1546069901-ba9599a7e63c?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80';
            }

            // Заполнение ингредиентов
            viewRecipeIngredients.innerHTML = '';
            const ingredientsList = recipe.ingredients.split('\n');
            ingredientsList.forEach(ingredient => {
                if (ingredient.trim()) {
                    const li = document.createElement('li');
                    li.innerHTML = `<i class="fas fa-check-circle"></i> ${ingredient.trim()}`;
                    viewRecipeIngredients.appendChild(li);
                }
            });

            // Заполнение описания
            viewRecipeDescription.textContent = recipe.description;

            // Заполнение категории и даты
            viewRecipeCategory.textContent = recipe.category;
            const formattedDate = new Date(recipe.date).toLocaleDateString('ru-RU', {
                day: 'numeric',
                month: 'long',
                year: 'numeric'
            });
            viewRecipeDate.textContent = `Добавлен: ${formattedDate}`;

            // Открытие модального окна
            viewRecipeModal.style.display = 'flex';
        }

        // Показать подтверждение удаления
        function showDeleteConfirmation(recipeId) {
            const recipe = recipes.find(r => r.id === recipeId);

            if (!recipe) return;

            // Сохраняем ID текущего рецепта для удаления
            currentRecipeToDelete = recipeId;

            // Обновляем текст подтверждения
            confirmDeleteText.textContent = `Вы уверены, что хотите удалить рецепт "${recipe.name}"? Это действие нельзя отменить.`;

            // Показываем модальное окно подтверждения
            confirmDeleteModal.style.display = 'flex';
        }

        // Удаление рецепта
        function deleteRecipe(recipeId) {
            // Находим индекс рецепта в массиве
            const recipeIndex = recipes.findIndex(r => r.id === recipeId);

            if (recipeIndex === -1) return;

            // Сохраняем название рецепта для сообщения
            const recipeName = recipes[recipeIndex].name;

            // Удаляем рецепт из массива
            recipes.splice(recipeIndex, 1);

            // Сохраняем изменения
            saveRecipes();

            // Закрываем модальные окна
            closeModal(confirmDeleteModal);
            closeModal(viewRecipeModal);

            // Обновляем интерфейс
            renderCategories();
            renderRecipes();

            // Показываем уведомление
            alert(`Рецепт "${recipeName}" успешно удален!`);

            // Сбрасываем текущий рецепт для удаления
            currentRecipeToDelete = null;
        }

        // Поиск рецептов
        function performSearch() {
            currentSearch = searchInput.value.trim();

            // Сброс активной категории при поиске
            if (currentSearch) {
                document.querySelectorAll('#category-nav a').forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('data-category') === 'all') {
                        link.classList.add('active');
                    }
                });
                currentCategory = 'all';
            }

            renderRecipes();
        }

        // Инициализация приложения при загрузке страницы
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>

</html>
